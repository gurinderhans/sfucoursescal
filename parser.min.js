$(document).ready(function(){function e(e){console.log(e)}function t(e){return!e||/^\s*$/.test(e)}function n(e,t){return!(t.indexOf(e)==-1)}function s(e){switch(e){case"M":return"2014-11-17";break;case"Tu":return"2014-11-18";break;case"W":return"2014-11-19";break;case"Th":return"2014-11-20";break;case"F":return"2014-11-21";break;default:return"2014-11-17"}}function o(e,t,n){var r=new Object;r.title=e;r.start=t;r.end=n;r.allDay=false;$("#calendar").fullCalendar("renderEvent",r)}function u(e){var t=[];if(n("Days",e)){}else if(n("Tu",e)||n("Th",e)){t.push(s(e))}else{var r=e.split("");for(k=0;k<r.length;k++){t.push(s(r[k]))}}return t}function a(e){var t=[];if(n("and",e)){var r=e.split("and");for(j=0;j<r.length;j++){var i=r[j].split(" ");i=i.filter(Boolean);t.push(i)}}else{t.push(e.split(" "))}return t}function f(e){var t=e.slice(2,e.length);var s=r(t,8);for(i=0;i<s.length;i++){if(s[i].length==8){var f=a(s[i][3]);for(j=0;j<f.length;j++){var l=u(f[j][0]);for(k=0;k<l.length;k++){var c=l[k];var h=f[j][1];var p=f[j][3];if(n("m",h.toLowerCase())){h=moment(h,"HH:mmA");p=moment(p,"HH:mmA")}else{h=moment(h,"HH:mm");p=moment(p,"HH:mm")}h=h.format("HH:mm:ss");p=p.format("HH:mm:ss");o(s[i][1],c+"T"+h,c+"T"+p)}}}}}var r=function(e,t){var n=[];while(e.length){n.push(e.splice(0,t))}return n};$("#coursesInput").on("paste",function(){$(this).css("font-size","12px");setTimeout(function(){var e=$("#coursesInput").val();var t=e.split("\n");var n=t[0];var r=t[1];$("#calendar").fullCalendar("removeEvents");f(t);$("#formArea textarea").blur()},300)});$(window).keydown(function(e){if(e.which==73){$("#instructions").show()}}).keyup(function(e){if(e.which==73){$("#instructions").hide()}});$(window).keydown(function(e){if(e.which==78){$("#notesWrapper").show()}}).keyup(function(e){if(e.which==78){$("#notesWrapper").hide()}});$(window).keydown(function(e){if(e.which==74){}}).keyup(function(e){if(e.which==74){html2canvas(document.getElementById("calendar"),{onrendered:function(e){var t=e.toDataURL("image/png");window.open(t)}})}})})
